# minikube-aws

This is tf files of ec2 instance for the [minikube-aws](https://github.com/takahiroaoki/minikube-aws) project.

The AMI is generated by Packer, and the source is [there](https://github.com/takahiroaoki/packer-container/tree/main/projects/minikube-aws).

If you do not want to use Packer, please use `ami-00c79d83cf718a893` as AMI.

Minikube need 2CPUs, so the instance type is larger than t2.medium.

```
#1 You must setup s3 backet for terraform backend.
$ cd ${path to backend}
$ terraform init
$ terraform apply -auto-approve

#2 Update settings
$ cd ${path to projects/minikube-aws}
- update terraform.backend.s3.bucket to your own setting.
- update ec2 instance type in terraform.tfVars


#3 Generate ssh keypair for ec2 instance (with empty passphrase)
$ sh /gen-key.sh

#4 apply
$ terraform init
$ terraform apply -auto-approve
```